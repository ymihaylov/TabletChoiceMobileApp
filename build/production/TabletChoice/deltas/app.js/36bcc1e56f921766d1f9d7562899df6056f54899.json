["function _38646e275f12a0d624cf535cc465b18db91a4e78",50,1584,"model){TabletChoice.model",1613,297961,"Img\",Ext.Component,{config:{src:null,baseCls:\"x-img\",imageCls:\"x-img-image\",backgroundCls:\"x-img-background\",mode:\"background\"",451389,34,"a=this;a.onLoad=Ext.Function.bind(a.onLoad,a);a.onError=Ext.Function.bind(a.onError,a)",311040,39,263232,42,"a.relayEvents(a.renderElement,\"*\");a.element.on({tap:\"onTap\",scope:a})},hid",263215,37,"hide",484422,34,"Src=this.hiddenSrc||this.getSrc();this.setSrc(null)},show",263216,36,"show.apply(this,arguments);if(this.hiddenSrc){this.setSrc(this.hiddenSrc);delete this.hiddenSrc}},updateMode",267739,32,"mageCls(),b=c.getBackgroundCls();if(d===\"background\"){if(c.imageElement){c.imageElement.destroy();delete c.imageElement;c.updateSrc(c.getSrc())}c.replaceCls(a,b)}else{c.imageElement=c.element.createChild({tag:\"img\"});c.replaceCls(b,a)}},updateImageCls:function(b,a){this.replaceCls(a,b)},updateBackgroundCls:function(b,a){this.replaceCls(a,b)},",307464,34,"tap\",this,a)},onAfterRender:function(){this.updateSrc(this.getSrc())},updateSrc:function(a){var b=this,c;if(b.getMode()===\"background\"){c=this.imageObject||new Image()}else{c=b.imageElement.dom}this.imageObject=c;c.setAttribute(\"src\",Ext.isString(a)?a:\"\");c.addEventListener(\"load\",b.onLoad,false);c.addEventListener(\"error\",b.onError,false)},detachListeners:function(){var a=this.imageObject;if(a){a.removeEventListener(\"load\",this.onLoad,false);a.removeEventListener(\"error\",this.onError,false)}},onLoad:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"load\",this,a)},onError:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"error\",this,a)},doSetWidth:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setWidth(b);Ext.Component",566788,45,"doSetHeight:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setHeight(b);Ext.Componen",315183,45,"},destroy:function(){this.detachListeners();Ext.destroy(this.imageObject,this.imageElement);delete this.imageObject;delete this.imageElement",448976,33,"call(this)}},0,[\"image\",\"img\"],[\"component\",\"image\",\"img\"],{component:true,image:true,img:true},[\"widget.image\",\"widget.img\"],0,[Ext,\"Img\"],0));(Ext.cmd.derive(\"Ext.Label",446109,37,"abel\"}},0,[\"label\"],[\"component\",\"label\"],{component:true,label:true},[\"widget.label\"],0,[Ext,\"Label",299546,223767,536278,48357,"{name:\"name\",type:\"string\"},{name:\"short_description\",type:\"string\"},{name:\"img_url\",convert:function(b,a){if(b==\"\"){return null}return globalConfig.pathToServer+\"upload/items/thumbs/small/\"+b}},{name:\"price\",type:\"float\"},{name:\"price_display\",mapping:\"price\",convert:function(b,a){if(b==\"\"){return null}return\"&euro; \"+b}},{name:\"quantity",584716,490,"p",585206,416,"items-list\">','<tpl if=\"img_url\">','<img src=\"{img_url}\"/>',\"<tpl else>\",'<div class=\"noimg\"></div>',\"</tpl>\",\"<h2>{name}</h2>\",'<span class=\"item-price-container\">Price: <span class=\"item-price\">{price_display}</span></span>',\"<span>Quantity: {quantity}gr</span>\",'<div class=\"descrip",585727,290,"model.Item\",Ext.data.Model,{config:{fields:[{name:\"name\",type:\"string\"},{name:\"short_description\",type:\"string\"},{name:\"description\",type:\"string\"},{name:\"img_url\",convert:function(b,a){if(b==\"\"){return null}return globalConfig.pathToServer+\"upload/items/thumbs/medium/\"+b}},{name:\"price\",type:\"float\"},{name:\"price_display\",mapping:\"price\",convert:function(b,a){if(b==\"\"){return null}return\"&euro; \"+b}},{name:\"quantity",584716,56,"Item.show\",paramOrder:\"id\"}}},0,0,0,0,0,0,[TabletChoice.model,\"Item",585470,51,"Details\",Ext.Container,{config:{items:[{",586779,40,"xtype:\"img\",width:300,height:300,margin:10},{xtype:\"container\",defaults:{xtype:\"label\"},items:[{",586779,32,"margin:\"10px 0 0 0\",defaults:{xtype:\"label\"},items:[{html:\"Price: \",margin:\"0 1em 0 0\"},{itemId:\"price\",cls:\"item-price\"},{html:\"Quantity: \",margin:\"0 1em 0 0\"},{itemId:\"quantity\"},{html:\"gr\"}]},{itemId:\"itemDescription\"}]}]}]",451389,34,"b=this.config,a=b.record,c=a.get(\"img_url\");this.down(\"img\").show();if(c){this.down(\"img\").setSrc(a.get(\"img_url\"))}else{this.down(\"img\").hide()}this.down(\"#itemDescription\").setHtml(a.get(\"description\"));this.down(\"#price\").setHtml(a.get(\"price_display\"));this.down(\"#quantity\").setHtml(a.get(\"quantity\"));Ext.Container.prototype",170391,40,586331,46,586397,45,586468,1542,",itemDetails:\"menutab itemdetails",588009,149,",itemDetails:{hide:\"onHideDetails",588156,282,"itemDetails=Ext.create(\"TabletChoice.model.Item\");TabletChoice.model.Item.load(a.get(\"id\"),{scope:this,success:function(f){this.record=f;b.push({title:f.get(\"name\"),xtype:\"itemdetails\",record:f});this.getToggleCategoriesButton().hide()},failure:function(){Ext.Msg.alert(\"Loading failed\",[\"Failed to load the selected item.\",\" Please try again!\"].join(\"<br />\"))}})},onHideDetails:function(){this.getToggleCategoriesButton().show(",588493,930]